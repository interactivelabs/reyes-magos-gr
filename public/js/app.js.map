{
  "version": 3,
  "sources": ["../../assets/js/shared/nav.ustils.ts", "../../assets/js/admin/admin.nav.ts", "../../assets/js/app/nav.ts", "../../assets/js/shared/toast.ts", "../../assets/js/app/myCodes.ts", "../../assets/js/tailwind/tailwind-core.ts", "../../assets/js/tailwind/tailwind-transitions.ts", "../../assets/js/app.ts"],
  "sourcesContent": ["export interface ICloseIfOutsideClick {\n  element: HTMLElement;\n  elementButton: HTMLElement;\n  event: MouseEvent;\n  onClose?: () => void;\n}\n\nexport const closeIfOutsideClick = ({\n  element,\n  elementButton,\n  event,\n  onClose,\n}: ICloseIfOutsideClick) => {\n  const isClickInside =\n    element.contains(event.target as HTMLElement) ||\n    element === event.target ||\n    elementButton.contains(event.target as HTMLElement) ||\n    elementButton === event.target;\n  if (\n    !isClickInside &&\n    element.getAttribute(\"data-transition-state\") === \"open\"\n  ) {\n    element.setAttribute(\"data-transition-state\", \"closed\");\n    onClose && onClose();\n  }\n};\n\nexport const toggleMenu = (menuContainer: HTMLElement | null) => {\n  if (!menuContainer) return;\n  if (menuContainer.getAttribute(\"data-transition-state\") === \"closed\") {\n    menuContainer.setAttribute(\"open\", \"true\");\n    menuContainer.setAttribute(\"data-transition-state\", \"open\");\n  } else {\n    menuContainer.removeAttribute(\"open\");\n    menuContainer.setAttribute(\"data-transition-state\", \"closed\");\n  }\n};\n", "import { closeIfOutsideClick, toggleMenu } from \"../shared/nav.ustils\";\n\nexport default function initAdminNav() {\n  const adminMenuDropdown = document.getElementById(\"admin-menu-dropdown\");\n  const adminMenuButton = document.getElementById(\"admin-menu-button\");\n\n  const toggleAdminMenu = (evt: MouseEvent) => {\n    evt.stopPropagation();\n    toggleMenu(adminMenuDropdown);\n  };\n\n  adminMenuButton?.addEventListener(\"click\", toggleAdminMenu);\n\n  document.addEventListener(\"click\", (event) => {\n    event.stopPropagation();\n    if (adminMenuDropdown && adminMenuButton) {\n      closeIfOutsideClick({\n        element: adminMenuDropdown,\n        elementButton: adminMenuButton,\n        event,\n      });\n    }\n  });\n}\n", "import { closeIfOutsideClick, toggleMenu } from \"../shared/nav.ustils\";\n\nexport default function initNav() {\n  const mobileMenuContainer = document.getElementById(\"mobile-menu-container\");\n  const mobileMenuButton = document.getElementById(\"mobile-menu-button\");\n  const mobileMenuButtonIconClosed = document.getElementById(\n    \"mobile-menu-button-icon-closed\"\n  );\n  const mobileMenuButtonIconOpen = document.getElementById(\n    \"mobile-menu-button-icon-open\"\n  );\n\n  const toggleMobileMenuButtonIcon = () => {\n    mobileMenuButtonIconClosed?.classList.toggle(\"hidden\");\n    mobileMenuButtonIconOpen?.classList.toggle(\"hidden\");\n  };\n\n  const toggleMobileMenu = (evt: MouseEvent) => {\n    evt.stopPropagation();\n    toggleMenu(mobileMenuContainer);\n    toggleMobileMenuButtonIcon();\n  };\n\n  mobileMenuButton?.addEventListener(\"click\", toggleMobileMenu);\n  document.addEventListener(\"click\", (event) => {\n    event.stopPropagation();\n    if (mobileMenuContainer && mobileMenuButton) {\n      closeIfOutsideClick({\n        event,\n        element: mobileMenuContainer,\n        elementButton: mobileMenuButton,\n        onClose: toggleMobileMenuButtonIcon,\n      });\n    }\n  });\n}\n", "export const hideToast = () => {\n  const toastContainer = document.getElementById(\"toast-container\");\n  const toastPanel = document.getElementById(\"toast-panel\");\n\n  toastPanel?.classList.remove(\"show-toast\");\n  toastPanel?.classList.add(\"hide-toast\");\n\n  setTimeout(() => {\n    toastContainer?.classList.remove(\"flex\");\n    toastContainer?.classList.add(\"hidden\");\n  }, 300);\n};\n\nexport interface IShowToast {\n  title: string;\n  subTitle: string;\n  duration?: number;\n}\n\nexport const showToast = ({ title, subTitle, duration = 5000 }: IShowToast) => {\n  const toastContainer = document.getElementById(\"toast-container\");\n  const toastPanel = document.getElementById(\"toast-panel\");\n\n  toastContainer?.classList.remove(\"hidden\");\n  toastContainer?.classList.add(\"flex\");\n\n  toastPanel?.classList.remove(\"hide-toast\");\n  toastPanel?.classList.add(\"show-toast\");\n\n  const toastTitle = document.getElementById(\"toast-title\");\n  const toastSubTitle = document.getElementById(\"toast-subtitle\");\n\n  toastTitle!.innerText = title;\n  toastSubTitle!.innerText = subTitle;\n\n  setTimeout(() => hideToast(), duration);\n};\n\nexport default function initToast() {\n  globalThis.hideToast = hideToast;\n}\n", "import { showToast } from \"../shared/toast\";\n\nconst copy = async (code: string) => {\n  try {\n    await navigator.clipboard.writeText(code);\n    showToast({\n      title: \"Copiado!\",\n      subTitle: \"El codigo ha sido copiado al portapapeles.\",\n    });\n  } catch (err) {\n    console.error(\"Failed to copy: \", err);\n  }\n};\n\nconst share = async (code: string) => {\n  const data = {\n    title: \"Comparte la alegria!\",\n    text: `Utiliza este codigo para obtener un juguete: ${code}`,\n    url: `${window.location.origin}/catalog`,\n  };\n\n  try {\n    await navigator.share(data);\n  } catch (err) {\n    console.error(\"Share failed: \", err);\n  }\n};\n\nexport default function initMycodes() {\n  globalThis.copyCode = copy;\n  globalThis.shareCode = async (code: string) => {\n    if (typeof navigator.share === \"undefined\") {\n      copy(code);\n    } else {\n      share(code);\n    }\n  };\n}\n", "export enum Action {\n  ADD = \"add\",\n  REMOVE = \"remove\",\n}\n\nexport const getStateClasses = (element: Element, attribute: string) => {\n  const stateClasses = element.getAttribute(attribute);\n  if (!stateClasses) {\n    throw new Error(`Missing ${attribute} attribute`);\n  }\n  const stateClassesArray = stateClasses.split(\" \");\n  const afterClasses = stateClassesArray.filter((className) =>\n    className.startsWith(\"final:\")\n  );\n  const immediateClasses = stateClassesArray.filter(\n    (className) => !className.startsWith(\"final:\")\n  );\n  return [immediateClasses, afterClasses];\n};\n\nexport const updateStateClasses = (\n  element: Element,\n  attribute: string,\n  action: Action\n) => {\n  const [immediateClasses, afterClasses] = getStateClasses(element, attribute);\n\n  const createTimeoutToAddClass = (delay: number, className: string) => {\n    setTimeout(() => {\n      element.classList.add(className);\n    }, delay);\n  };\n\n  immediateClasses.forEach((className) => {\n    if (action === Action.ADD) {\n      element.classList.add(className);\n      createTimeoutToAddClass(10, className);\n    } else {\n      element.classList.remove(className);\n    }\n  });\n\n  afterClasses.forEach((className) => {\n    const props = className.split(\"final:\")[1];\n    const [delay, afterClassName] = JSON.parse(props.replace(/'/g, '\"'));\n    if (action === Action.ADD) {\n      createTimeoutToAddClass(delay, afterClassName);\n    } else {\n      element.classList.remove(afterClassName);\n    }\n  });\n};\n\nexport const addStateClasses = (element: Element, attribute: string) => {\n  updateStateClasses(element, attribute, Action.ADD);\n};\n\nexport const removeStateClasses = (element: Element, attribute: string) => {\n  updateStateClasses(element, attribute, Action.REMOVE);\n};\n\nexport const getDelayFromAttribute = (element: Element, attribute: string) => {\n  const classNames = element.getAttribute(attribute);\n  if (!classNames) {\n    throw new Error(`Missing ${attribute} attribute`);\n  }\n  const classNamesArray = classNames.split(\" \");\n  const delayClasses = classNamesArray.filter(\n    (className) =>\n      className.startsWith(\"delay-\") || className.startsWith(\"duration-\")\n  );\n\n  if (!delayClasses || !delayClasses.length) return 150;\n\n  let delay = 0;\n\n  delayClasses.forEach((delayClass) => {\n    const delayValue = parseInt(delayClass.split(\"-\")[1], 10);\n    delay += delayValue;\n  });\n\n  return delay;\n};\n", "import {\n  addStateClasses,\n  getDelayFromAttribute,\n  removeStateClasses,\n} from \"./tailwind-core\";\n\nexport default function initTailwindTransitions() {\n  const ATTRIBUTE = \"data-transition-state\";\n\n  const hideElement = (element: HTMLElement) => {\n    element.style.display = \"none\";\n  };\n\n  const showElement = (element: HTMLElement) => {\n    element.style.display = \"block\";\n    element.offsetHeight; // Trigger reflow\n  };\n\n  const transitionMutationCallback = (mutationsList) => {\n    for (const mutation of mutationsList) {\n      const { type, attributeName, oldValue, target } = mutation;\n\n      if (type !== \"attributes\" || attributeName !== ATTRIBUTE || !target) {\n        return;\n      }\n\n      const state = target.getAttribute(ATTRIBUTE);\n      addStateClasses(target, `data-transition-${state}`);\n\n      if (state === \"open\") {\n        showElement(target as HTMLElement);\n      } else {\n        const delay = getDelayFromAttribute(\n          target,\n          `data-transition-${oldValue}`\n        );\n        console.log(delay);\n        setTimeout(() => {\n          hideElement(target as HTMLElement);\n        }, delay);\n      }\n\n      // Remove previous state classes\n      if (oldValue) {\n        removeStateClasses(target, `data-transition-${oldValue}`);\n      }\n    }\n  };\n\n  const observer = new MutationObserver(transitionMutationCallback);\n\n  document.addEventListener(\"DOMContentLoaded\", function () {\n    const allElements = document.querySelectorAll(`[${ATTRIBUTE}]`);\n\n    allElements.forEach((transitionElement: Element) => {\n      const state = transitionElement.getAttribute(ATTRIBUTE);\n      if (state !== \"closed\" && state !== \"open\") {\n        throw new Error(\n          `Invalid ${state} for transitions, use data-styles-[state] for non open/close transitions`\n        );\n      }\n      if (state === \"closed\") {\n        hideElement(transitionElement as HTMLElement);\n      } else {\n        showElement(transitionElement as HTMLElement);\n      }\n      addStateClasses(transitionElement, `data-transition-${state}`);\n      observer.observe(transitionElement, {\n        attributes: true,\n        attributeOldValue: true,\n        attributeFilter: [ATTRIBUTE],\n      });\n    });\n  });\n}\n", "import initAdminNav from \"./admin/admin.nav\";\nimport initNav from \"./app/nav\";\nimport initMycodes from \"./app/myCodes\";\nimport initToast from \"./shared/toast\";\nimport initTailwindTransitions from \"./tailwind/tailwind-transitions\";\n\ninitTailwindTransitions();\ninitMycodes();\ninitAdminNav();\ninitNav();\ninitToast();\n"],
  "mappings": "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",
  "names": []
}
