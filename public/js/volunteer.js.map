{
  "version": 3,
  "sources": ["../../assets/js/components/toasts.ts", "../../assets/js/app/myCodes.ts"],
  "sourcesContent": ["/// <reference types=\"alpinejs\" />\nimport type { Alpine as AlpineType } from \"alpinejs\";\n\ndeclare global {\n  var Alpine: AlpineType;\n}\n\nexport interface Toast {\n  variant: \"info\" | \"success\" | \"warning\" | \"error\";\n  title: string | null;\n  message: string | null;\n}\n\ndocument.addEventListener(\"alpine:init\", () => {\n  Alpine.data(\"toasts\", () => ({\n    notifications: [],\n    displayDuration: 5000,\n\n    addNotification(notification: Toast) {\n      const id = Date.now();\n\n      // Keep only the most recent 20 notifications\n      if (this.notifications.length >= 20) {\n        this.notifications.splice(0, this.notifications.length - 19);\n      }\n\n      // Add the new notification to the notifications stack\n      this.notifications.push({ ...notification, id });\n    },\n    removeNotification(id) {\n      setTimeout(() => {\n        this.notifications = this.notifications.filter(\n          (notification) => notification.id !== id\n        );\n      }, 400);\n    },\n  }));\n});\n\nexport function showToast(toast: Toast) {\n  window.dispatchEvent(new CustomEvent(\"notify\", { detail: toast }));\n}\n", "import { showToast } from \"../components/toasts\";\n\nconst copy = async (code: string) => {\n  try {\n    await navigator.clipboard.writeText(code);\n    showToast({\n      variant: \"error\",\n      title: \"Copiado!\",\n      message: \"El codigo ha sido copiado al portapapeles.\",\n    });\n  } catch (err) {\n    console.error(\"Failed to copy: \", err);\n  }\n};\n\nconst share = async (code: string) => {\n  const data = {\n    title: \"Comparte la alegria!\",\n    text: `Utiliza este codigo para obtener un regalo: ${code}`,\n    url: `${window.location.origin}/catalog?code=${code}`,\n  };\n\n  try {\n    await navigator.share(data);\n  } catch (err) {\n    console.error(\"Share failed: \", err);\n  }\n};\n\nglobalThis.copyCode = copy;\nglobalThis.shareCode = async (code: string) => {\n  if (typeof navigator.share === \"undefined\") {\n    copy(code);\n  } else {\n    share(code);\n  }\n};\n"],
  "mappings": ";AAaA,SAAS,iBAAiB,eAAe,MAAM;AAC7C,SAAO,KAAK,UAAU,OAAO;AAAA,IAC3B,eAAe,CAAC;AAAA,IAChB,iBAAiB;AAAA,IAEjB,gBAAgB,cAAqB;AACnC,YAAM,KAAK,KAAK,IAAI;AAGpB,UAAI,KAAK,cAAc,UAAU,IAAI;AACnC,aAAK,cAAc,OAAO,GAAG,KAAK,cAAc,SAAS,EAAE;AAAA,MAC7D;AAGA,WAAK,cAAc,KAAK,EAAE,GAAG,cAAc,GAAG,CAAC;AAAA,IACjD;AAAA,IACA,mBAAmB,IAAI;AACrB,iBAAW,MAAM;AACf,aAAK,gBAAgB,KAAK,cAAc;AAAA,UACtC,CAAC,iBAAiB,aAAa,OAAO;AAAA,QACxC;AAAA,MACF,GAAG,GAAG;AAAA,IACR;AAAA,EACF,EAAE;AACJ,CAAC;AAEM,SAAS,UAAU,OAAc;AACtC,SAAO,cAAc,IAAI,YAAY,UAAU,EAAE,QAAQ,MAAM,CAAC,CAAC;AACnE;;;ACvCA,IAAM,OAAO,OAAO,SAAiB;AACnC,MAAI;AACF,UAAM,UAAU,UAAU,UAAU,IAAI;AACxC,cAAU;AAAA,MACR,SAAS;AAAA,MACT,OAAO;AAAA,MACP,SAAS;AAAA,IACX,CAAC;AAAA,EACH,SAAS,KAAK;AACZ,YAAQ,MAAM,oBAAoB,GAAG;AAAA,EACvC;AACF;AAEA,IAAM,QAAQ,OAAO,SAAiB;AACpC,QAAM,OAAO;AAAA,IACX,OAAO;AAAA,IACP,MAAM,+CAA+C,IAAI;AAAA,IACzD,KAAK,GAAG,OAAO,SAAS,MAAM,iBAAiB,IAAI;AAAA,EACrD;AAEA,MAAI;AACF,UAAM,UAAU,MAAM,IAAI;AAAA,EAC5B,SAAS,KAAK;AACZ,YAAQ,MAAM,kBAAkB,GAAG;AAAA,EACrC;AACF;AAEA,WAAW,WAAW;AACtB,WAAW,YAAY,OAAO,SAAiB;AAC7C,MAAI,OAAO,UAAU,UAAU,aAAa;AAC1C,SAAK,IAAI;AAAA,EACX,OAAO;AACL,UAAM,IAAI;AAAA,EACZ;AACF;",
  "names": []
}
